<template name="cupPage">
 

  	<h3>Torneo {{cup.title}} <small class="pull-right">{{cup.season}}</small></h3>

 	<h4>Partecipanti</h4>
  	<em class="cupPlayersResume">
	 	{{#each cup.players}}
	  		<strong>{{username}}</strong>
	  	{{/each}}
	</em>

	<h4>Incontri</h4>
	<ul class="list-group">
		{{#each matches}}
			<li class="list-group-item">
				<form>
					<div class="row">
						
						<div class="row col-md-6">
							<div class="col-xs-6">
								<strong class="{{#if p1win}}winner{{/if}}">{{matchPlayers.p1.name}}</strong> 
							</div>
							<div class="col-xs-6">
								<strong class="{{#if p2win}}winner{{/if}}">{{matchPlayers.p2.name}}</strong>
							</div>
						</div>	
					</div>		


					<div class="row">
						
						{{#if toPlay}}
							<div class="row col-md-6 inputWrap">
								<div class="col-xs-6">
									<input maxlength="1" type="number" value="{{matchPlayers.p1.score}}" placeholder="-" data-pid="{{matchPlayers.p1.id}}" name="p1Score" />
								</div>		
								<div class="col-xs-6">
									<input maxlength="1" type="number" value="{{matchPlayers.p2.score}}"  placeholder="-" data-pid="{{matchPlayers.p2.id}}" name="p2Score" />
								</div>
							</div>		
							<div class="col-md-6">
								<input type="submit" value="Conferma" class="btn btn-primary" style="width:100%;" />
							</div>
						{{else}}	
							<div class="row col-md-6"> 
								<span  class="col-xs-6" data-pid="{{matchPlayers.p1.id}}">{{matchPlayers.p1.score}}</span> 
								<span  class="col-xs-6" data-pid="{{matchPlayers.p2.id}}">{{matchPlayers.p2.score}}</span>
							</div>	
						{{/if}}
					
					</div>			
				</form>	

			</li>
		{{/each}}	
	</ul>

	<div id="tableCup">
		<h4>Classifica</h4>
		<table class="table table-striped">
			<tbody>
				<tr>
					<th></th>
					<th class="text-center">Vinte</th>
					<th class="text-center">Set diff.</th>
				</tr>
				{{#each tableCup}}
					<tr>
						<th>{{this.username}}</th>
						<td class="text-center">{{this.winning}}</td>
						<td class="text-center">{{this.deltaMatch}}</td>
					</tr>	
				{{/each}}
			</tbody>	
		</table>
	</div>	
</template>
